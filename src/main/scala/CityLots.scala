import cats.effect.IO
import fs2.Stream
import io.circe.Json
import io.circe.jawn.parse
import io.circe.literal._

object CityLots {
  val samplePolygon: Json = json"""
  {
    "type": "Polygon",
    "coordinates": [
      [
        [ -122.422003528252475, 37.808480096967251, 0.0 ],
        [ -122.422076013325281, 37.808835019815085, 0.0 ],
        [ -122.421102174348633, 37.808803534992904, 0.0 ],
        [ -122.421062569067274, 37.808601056818148, 0.0 ]
      ]
    ]
  }
  """

  val sampleMultiPolygon: Json = json"""

  {
    "type": "MultiPolygon",
    "coordinates": [
      [
        [
          [ -122.473006924428333, 37.784537803267476, 0.0 ],
          [ -122.473126042088367, 37.786181516803346, 0.0 ],
          [ -122.472783038883804, 37.7861970636678, 0.0 ],
          [ -122.472782972918139, 37.786195820178193, 0.0 ],
          [ -122.472782956091322, 37.786195101281272, 0.0 ]
        ]
      ]
    ]
  }
  """

  val sampleProperties: Json = json"""
    {
      "MAPBLKLOT": "0001001",
      "BLKLOT": "0001001",
      "BLOCK_NUM": "0001",
      "LOT_NUM": "001",
      "FROM_ST": "0",
      "TO_ST": "0",
      "STREET":
      "UNKNOWN",
      "ST_TYPE": null,
      "ODD_EVEN": "E"
    }
  """

  val Right(sampleData: Json) = parse(
    """
      |[
      |{ "type": "Feature", "properties": { "MAPBLKLOT": "0001001", "BLKLOT": "0001001", "BLOCK_NUM": "0001", "LOT_NUM": "001", "FROM_ST": "0", "TO_ST": "0", "STREET": "UNKNOWN", "ST_TYPE": null, "ODD_EVEN": "E" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ -122.422003528252475, 37.808480096967251, 0.0 ], [ -122.422076013325281, 37.808835019815085, 0.0 ], [ -122.421102174348633, 37.808803534992904, 0.0 ], [ -122.421062569067274, 37.808601056818148, 0.0 ], [ -122.422003528252475, 37.808480096967251, 0.0 ] ] ] } },
      |{ "type": "Feature", "properties": { "MAPBLKLOT": "0002001", "BLKLOT": "0002001", "BLOCK_NUM": "0002", "LOT_NUM": "001", "FROM_ST": "0", "TO_ST": "0", "STREET": "UNKNOWN", "ST_TYPE": null, "ODD_EVEN": "E" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ -122.42082593937107, 37.808631474146033, 0.0 ], [ -122.420858049679694, 37.808795641369592, 0.0 ], [ -122.419811958704301, 37.808761809714007, 0.0 ], [ -122.42082593937107, 37.808631474146033, 0.0 ] ] ] } },
      |{ "type": "Feature", "properties": { "MAPBLKLOT": "0004002", "BLKLOT": "0004002", "BLOCK_NUM": "0004", "LOT_NUM": "002", "FROM_ST": "0", "TO_ST": "0", "STREET": "UNKNOWN", "ST_TYPE": null, "ODD_EVEN": "E" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ -122.415701204606876, 37.808327252671461, 0.0 ], [ -122.415760743593196, 37.808630700240904, 0.0 ], [ -122.413787891332404, 37.808566801319841, 0.0 ], [ -122.415701204606876, 37.808327252671461, 0.0 ] ] ] } },
      |{ "type": "Feature", "properties": { "MAPBLKLOT": "0005001", "BLKLOT": "0005001", "BLOCK_NUM": "0005", "LOT_NUM": "001", "FROM_ST": "206", "TO_ST": "286", "STREET": "JEFFERSON", "ST_TYPE": "ST", "ODD_EVEN": "E" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ -122.417346670944355, 37.808121127609709, 0.0 ], [ -122.417457443198046, 37.808685627252729, 0.0 ], [ -122.416003128921787, 37.808638547938997, 0.0 ], [ -122.41593547450509, 37.808293744156337, 0.0 ], [ -122.417346670944355, 37.808121127609709, 0.0 ] ] ] } },
      |{ "type": "Feature", "properties": { "MAPBLKLOT": "0006001", "BLKLOT": "0006001", "BLOCK_NUM": "0006", "LOT_NUM": "001", "FROM_ST": "350", "TO_ST": "366", "STREET": "JEFFERSON", "ST_TYPE": "ST", "ODD_EVEN": "E" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ -122.418974650424474, 37.807907564012595, 0.0 ], [ -122.419147512636712, 37.808655940108665, 0.0 ], [ -122.418623049836171, 37.808723347475208, 0.0 ], [ -122.417699830020709, 37.808693471445764, 0.0 ], [ -122.417580761531511, 37.808086708494429, 0.0 ], [ -122.418974650424474, 37.807907564012595, 0.0 ] ] ] } },
      |{ "type": "Feature", "properties": { "MAPBLKLOT": "0007001", "BLKLOT": "0007001", "BLOCK_NUM": "0007", "LOT_NUM": "001", "FROM_ST": "2936", "TO_ST": "2936", "STREET": "HYDE", "ST_TYPE": "ST", "ODD_EVEN": "E" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ -122.420642521491033, 37.807693733698322, 0.0 ], [ -122.420789444036856, 37.808444893986632, 0.0 ], [ -122.419379916821399, 37.808626069865937, 0.0 ], [ -122.419207175169234, 37.807878227427288, 0.0 ], [ -122.420642521491033, 37.807693733698322, 0.0 ] ] ] } },
      |{ "type": "Feature", "properties": { "MAPBLKLOT": "0010001", "BLKLOT": "0010001", "BLOCK_NUM": "0010", "LOT_NUM": "001", "FROM_ST": "600", "TO_ST": "600", "STREET": "BEACH", "ST_TYPE": "ST", "ODD_EVEN": "E" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ -122.419831772538799, 37.807205123871363, 0.0 ], [ -122.419834114387342, 37.807218024451856, 0.0 ], [ -122.419911601942303, 37.807596413960987, 0.0 ], [ -122.419195209587571, 37.807688494444044, 0.0 ], [ -122.419042562933925, 37.806943049955677, 0.0 ], [ -122.419651559416494, 37.806867022433515, 0.0 ], [ -122.41966578303186, 37.806882315196049, 0.0 ], [ -122.419675249958857, 37.806892965734285, 0.0 ], [ -122.419684481692087, 37.806903745368572, 0.0 ], [ -122.41969347477874, 37.806914652352724, 0.0 ], [ -122.419702226784878, 37.806925680417926, 0.0 ], [ -122.41971073428104, 37.806936828718861, 0.0 ], [ -122.419718996038398, 37.806948093670719, 0.0 ], [ -122.419727007398933, 37.806959470843303, 0.0 ], [ -122.419734768292656, 37.806970957534197, 0.0 ], [ -122.419742275196839, 37.806982549294638, 0.0 ], [ -122.419749525770555, 37.806994243459279, 0.0 ], [ -122.419756518785348, 37.807006036443219, 0.0 ], [ -122.419763250741596, 37.80701792469862, 0.0 ], [ -122.41976972038735, 37.807029903739888, 0.0 ], [ -122.419775925381813, 37.807041970901494, 0.0 ], [ -122.41978186333769, 37.807054121716284, 0.0 ], [ -122.419787534184863, 37.807066353481837, 0.0 ], [ -122.419792934400533, 37.807078661749401, 0.0 ], [ -122.419798062756087, 37.80709104293426, 0.0 ], [ -122.419802919134909, 37.8071034925322, 0.0 ], [ -122.419807500084048, 37.807116008797045, 0.0 ], [ -122.419811805440261, 37.807128585423044, 0.0 ], [ -122.4198158339982, 37.807141219726184, 0.0 ], [ -122.419819582281661, 37.807153909059409, 0.0 ], [ -122.419823052421464, 37.80716664798085, 0.0 ], [ -122.419826240918098, 37.807179432942604, 0.0 ], [ -122.419829147655008, 37.807192259440548, 0.0 ], [ -122.419831772538799, 37.807205123871363, 0.0 ] ] ] } },
      |{ "type": "Feature", "properties": { "MAPBLKLOT": "0010002", "BLKLOT": "0010002", "BLOCK_NUM": "0010", "LOT_NUM": "002", "FROM_ST": "680", "TO_ST": "680", "STREET": "BEACH", "ST_TYPE": "ST", "ODD_EVEN": "E" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ -122.419911601942303, 37.807596413960987, 0.0 ], [ -122.419834114387342, 37.807218024451856, 0.0 ], [ -122.419831772538799, 37.807205123871363, 0.0 ], [ -122.419829147655008, 37.807192259440548, 0.0 ], [ -122.419826240918098, 37.807179432942604, 0.0 ], [ -122.419823052421464, 37.80716664798085, 0.0 ], [ -122.419819582281661, 37.807153909059409, 0.0 ], [ -122.4198158339982, 37.807141219726184, 0.0 ], [ -122.419811805440261, 37.807128585423044, 0.0 ], [ -122.419807500084048, 37.807116008797045, 0.0 ], [ -122.419802919134909, 37.8071034925322, 0.0 ], [ -122.419798062756087, 37.80709104293426, 0.0 ], [ -122.419792934400533, 37.807078661749401, 0.0 ], [ -122.419787534184863, 37.807066353481837, 0.0 ], [ -122.41978186333769, 37.807054121716284, 0.0 ], [ -122.419775925381813, 37.807041970901494, 0.0 ], [ -122.41976972038735, 37.807029903739888, 0.0 ], [ -122.419763250741596, 37.80701792469862, 0.0 ], [ -122.419756518785348, 37.807006036443219, 0.0 ], [ -122.419749525770555, 37.806994243459279, 0.0 ], [ -122.419742275196839, 37.806982549294638, 0.0 ], [ -122.419734768292656, 37.806970957534197, 0.0 ], [ -122.419727007398933, 37.806959470843303, 0.0 ], [ -122.419718996038398, 37.806948093670719, 0.0 ], [ -122.41971073428104, 37.806936828718861, 0.0 ], [ -122.419702226784878, 37.806925680417926, 0.0 ], [ -122.41969347477874, 37.806914652352724, 0.0 ], [ -122.419684481692087, 37.806903745368572, 0.0 ], [ -122.419675249958857, 37.806892965734285, 0.0 ], [ -122.41966578303186, 37.806882315196049, 0.0 ], [ -122.419651559416494, 37.806867022433515, 0.0 ], [ -122.420461058485998, 37.806765958191221, 0.0 ], [ -122.420606028190718, 37.807507152530022, 0.0 ], [ -122.419911601942303, 37.807596413960987, 0.0 ] ] ] } },
      |{ "type": "Feature", "properties": { "MAPBLKLOT": "0011007", "BLKLOT": "0011007", "BLOCK_NUM": "0011", "LOT_NUM": "007", "FROM_ST": "580", "TO_ST": "580", "STREET": "BEACH", "ST_TYPE": "ST", "ODD_EVEN": "E" }, "geometry": { "type": "Polygon", "coordinates": [ [ [ -122.418809684489474, 37.806970324642684, 0.0 ], [ -122.418962748829145, 37.807717822765618, 0.0 ], [ -122.418261722815416, 37.807807921694092, 0.0 ], [ -122.418114728237924, 37.807058866808987, 0.0 ], [ -122.418809684489474, 37.806970324642684, 0.0 ] ] ] } },
      |{ "type": "Feature", "properties": { "MAPBLKLOT": "1373001", "BLKLOT": "1373001", "BLOCK_NUM": "1373", "LOT_NUM": "001", "FROM_ST": "0", "TO_ST": "0", "STREET": "UNKNOWN", "ST_TYPE": null, "ODD_EVEN": "E" }, "geometry": { "type": "MultiPolygon", "coordinates": [ [ [ [ -122.473006924428333, 37.784537803267476, 0.0 ], [ -122.473126042088367, 37.786181516803346, 0.0 ], [ -122.472783038883804, 37.7861970636678, 0.0 ], [ -122.472782972918139, 37.786195820178193, 0.0 ], [ -122.472782956091322, 37.786195101281272, 0.0 ], [ -122.47278295515558, 37.786194382118403, 0.0 ], [ -122.472782970110799, 37.786193662689662, 0.0 ], [ -122.472783001004871, 37.786192944796682, 0.0 ], [ -122.472783048925038, 37.786192226618873, 0.0 ], [ -122.472783111625077, 37.786191509094905, 0.0 ], [ -122.472795718566104, 37.786040778956931, 0.0 ], [ -122.472802298162691, 37.78592724954445, 0.0 ], [ -122.472806379802435, 37.785813646569167, 0.0 ], [ -122.472807963270981, 37.785700004281743, 0.0 ], [ -122.472725764646484, 37.784565683050765, 0.0 ], [ -122.472725718152276, 37.784564915983815, 0.0 ], [ -122.472725691111023, 37.784564197257573, 0.0 ], [ -122.472725679960405, 37.784563478265426, 0.0 ], [ -122.4727256835654, 37.784562759026429, 0.0 ], [ -122.472725704220039, 37.784562040403365, 0.0 ], [ -122.472725739654166, 37.78456132243425, 0.0 ], [ -122.472725792114005, 37.784560604180236, 0.0 ], [ -122.47272585937732, 37.784559887480974, 0.0 ], [ -122.472725942555186, 37.784559171416674, 0.0 ], [ -122.47272604167155, 37.784558456888135, 0.0 ], [ -122.472726156726409, 37.784557743895341, 0.0 ], [ -122.472726287695878, 37.78455703153751, 0.0 ], [ -122.472726433516627, 37.784556322536083, 0.0 ], [ -122.47272659527593, 37.784555615070438, 0.0 ], [ -122.472726771862554, 37.784554910060358, 0.0 ], [ -122.472726964411663, 37.784554207486899, 0.0 ], [ -122.472727172923172, 37.784553507350012, 0.0 ], [ -122.472727396286018, 37.784552810569515, 0.0 ], [ -122.472727634500174, 37.784552117145466, 0.0 ], [ -122.473006924428333, 37.784537803267476, 0.0 ] ] ], [ [ [ -122.472458902683769, 37.784566083392761, 0.0 ], [ -122.472541486486989, 37.785705782222728, 0.0 ], [ -122.472537657610005, 37.785881628648404, 0.0 ], [ -122.472532121544333, 37.78599149422088, 0.0 ], [ -122.472524169897639, 37.786101266822051, 0.0 ], [ -122.472513806314169, 37.786210913044954, 0.0 ], [ -122.472299558866425, 37.786220638160003, 0.0 ], [ -122.472180692658995, 37.784580147191079, 0.0 ], [ -122.472458902683769, 37.784566083392761, 0.0 ] ] ] ] } }
      |]
    """.stripMargin('|')
  )

  val streamingData: Stream[IO, Byte] = fs2.io.readInputStream(
    IO(getClass.getResourceAsStream("/city-lots.json")),
    1024,
    true
  )
}